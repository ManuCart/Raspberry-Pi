#!/bin/bash

ln -sf ~/rpi/mc.menu ~/.config/mc/menu
ln -sf ~/rpi/tmux.conf ~/.tmux.conf
ln -sf ~/rpi/bash_aliases ~/.bash_aliases

if [ ! -d ~/mc.menu ] ; then mkdir ~/mc.menu ; fi
cd ~/mc.menu
touch "backup" "config" "files" "import" "music" "github"
touch "system" "tools" "videos" "torrent" "photos" "install"

tmux has-session -t pi

if [ "$?" -eq 1 ] ; then

  tmux -u new-session -d -s pi

  tmux rename-window -t pi:1 1
  tmux set pane-border-format " Free "
  tmux send '/usr/bin/mc -x /home/pi/rpi/ /media/hdd/' ENTER

  tmux new-window -n 2
  tmux set pane-border-format " Free "
  tmux send '/usr/bin/mc -x /home/pi/rpi/ /media/hdd/' ENTER

  tmux new-window -n 3
  tmux set pane-border-format " Free "
  tmux send '/usr/bin/mc -x /home/pi/rpi/ /media/hdd/' ENTER

  tmux new-window -n 4
  tmux set pane-border-format " Free "
  tmux send '/usr/bin/mc -x /home/pi/rpi/ /media/hdd/' ENTER

  tmux new-window -n 5
  tmux set pane-border-format " Free "
  tmux send '/usr/bin/mc -x /home/pi/rpi/ /media/hdd/' ENTER

  tmux new-window -n 6
  tmux set pane-border-format " Free "
  tmux send '/usr/bin/mc -x /home/pi/rpi/ /media/hdd/' ENTER

  TMUX= tmux -u new-session -d -s bg
  tmux switch-client -t bg

  tmux rename-window -t bg:1 Background
  tmux set pane-border-format " Bash Background "

fi

tmux select-window -t Ï€
tmux send -t bg:1 'tmux send -t pi:1 F2' ENTER
tmux attach -t pi:2
